(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{77982:function(e,r,n){Promise.resolve().then(n.bind(n,99372)),Promise.resolve().then(n.bind(n,70575)),Promise.resolve().then(n.bind(n,50096)),Promise.resolve().then(n.bind(n,13390)),Promise.resolve().then(n.bind(n,55996)),Promise.resolve().then(n.bind(n,29928)),Promise.resolve().then(n.bind(n,85643)),Promise.resolve().then(n.bind(n,98785)),Promise.resolve().then(n.bind(n,91902)),Promise.resolve().then(n.bind(n,31718)),Promise.resolve().then(n.bind(n,50591)),Promise.resolve().then(n.bind(n,62068)),Promise.resolve().then(n.bind(n,59747)),Promise.resolve().then(n.bind(n,36624)),Promise.resolve().then(n.bind(n,74883)),Promise.resolve().then(n.bind(n,75292)),Promise.resolve().then(n.bind(n,47400)),Promise.resolve().then(n.bind(n,80876)),Promise.resolve().then(n.bind(n,6994)),Promise.resolve().then(n.bind(n,48524)),Promise.resolve().then(n.bind(n,1879)),Promise.resolve().then(n.bind(n,65362)),Promise.resolve().then(n.bind(n,54429)),Promise.resolve().then(n.bind(n,66890)),Promise.resolve().then(n.bind(n,12405)),Promise.resolve().then(n.bind(n,57883)),Promise.resolve().then(n.bind(n,41394)),Promise.resolve().then(n.bind(n,65819)),Promise.resolve().then(n.bind(n,5479)),Promise.resolve().then(n.bind(n,52531)),Promise.resolve().then(n.bind(n,91105)),Promise.resolve().then(n.bind(n,24811)),Promise.resolve().then(n.bind(n,92754)),Promise.resolve().then(n.bind(n,60342)),Promise.resolve().then(n.bind(n,62054)),Promise.resolve().then(n.bind(n,36946)),Promise.resolve().then(n.bind(n,27499)),Promise.resolve().then(n.bind(n,18114)),Promise.resolve().then(n.bind(n,94563)),Promise.resolve().then(n.bind(n,94891)),Promise.resolve().then(n.bind(n,60767)),Promise.resolve().then(n.bind(n,45652)),Promise.resolve().then(n.bind(n,75522)),Promise.resolve().then(n.bind(n,61832)),Promise.resolve().then(n.bind(n,21183)),Promise.resolve().then(n.bind(n,99193)),Promise.resolve().then(n.bind(n,50584)),Promise.resolve().then(n.bind(n,50551)),Promise.resolve().then(n.bind(n,4216)),Promise.resolve().then(n.bind(n,89948)),Promise.resolve().then(n.bind(n,59260)),Promise.resolve().then(n.bind(n,42999)),Promise.resolve().then(n.bind(n,45796)),Promise.resolve().then(n.bind(n,21967)),Promise.resolve().then(n.bind(n,57833)),Promise.resolve().then(n.bind(n,26440)),Promise.resolve().then(n.bind(n,98559)),Promise.resolve().then(n.bind(n,5641)),Promise.resolve().then(n.bind(n,74743)),Promise.resolve().then(n.bind(n,72341)),Promise.resolve().then(n.bind(n,23324)),Promise.resolve().then(n.bind(n,42789)),Promise.resolve().then(n.bind(n,27640)),Promise.resolve().then(n.bind(n,54548)),Promise.resolve().then(n.bind(n,2323)),Promise.resolve().then(n.bind(n,37903)),Promise.resolve().then(n.bind(n,86437)),Promise.resolve().then(n.bind(n,63752)),Promise.resolve().then(n.bind(n,37895)),Promise.resolve().then(n.bind(n,56819)),Promise.resolve().then(n.bind(n,88530)),Promise.resolve().then(n.bind(n,95294)),Promise.resolve().then(n.bind(n,7161)),Promise.resolve().then(n.bind(n,27994)),Promise.resolve().then(n.bind(n,44250)),Promise.resolve().then(n.bind(n,24898)),Promise.resolve().then(n.bind(n,52558)),Promise.resolve().then(n.bind(n,16352)),Promise.resolve().then(n.bind(n,2718)),Promise.resolve().then(n.bind(n,28803)),Promise.resolve().then(n.bind(n,8906)),Promise.resolve().then(n.bind(n,92326)),Promise.resolve().then(n.bind(n,46823)),Promise.resolve().then(n.bind(n,68106)),Promise.resolve().then(n.bind(n,80449)),Promise.resolve().then(n.bind(n,30249)),Promise.resolve().then(n.bind(n,79756)),Promise.resolve().then(n.bind(n,46743)),Promise.resolve().then(n.bind(n,13340)),Promise.resolve().then(n.bind(n,48420)),Promise.resolve().then(n.bind(n,78330)),Promise.resolve().then(n.bind(n,911)),Promise.resolve().then(n.bind(n,90495)),Promise.resolve().then(n.bind(n,20542)),Promise.resolve().then(n.bind(n,73188)),Promise.resolve().then(n.bind(n,98314)),Promise.resolve().then(n.bind(n,25117)),Promise.resolve().then(n.bind(n,22535)),Promise.resolve().then(n.bind(n,41387)),Promise.resolve().then(n.bind(n,97558)),Promise.resolve().then(n.bind(n,61222)),Promise.resolve().then(n.bind(n,76723)),Promise.resolve().then(n.bind(n,83378)),Promise.resolve().then(n.bind(n,85322)),Promise.resolve().then(n.bind(n,50817)),Promise.resolve().then(n.bind(n,38354)),Promise.resolve().then(n.bind(n,45488)),Promise.resolve().then(n.bind(n,92422)),Promise.resolve().then(n.bind(n,25112)),Promise.resolve().then(n.bind(n,49611)),Promise.resolve().then(n.bind(n,70479)),Promise.resolve().then(n.bind(n,52925)),Promise.resolve().then(n.bind(n,61910)),Promise.resolve().then(n.bind(n,31800)),Promise.resolve().then(n.bind(n,79634)),Promise.resolve().then(n.bind(n,80773)),Promise.resolve().then(n.bind(n,890)),Promise.resolve().then(n.bind(n,12240)),Promise.resolve().then(n.bind(n,73670)),Promise.resolve().then(n.bind(n,66602)),Promise.resolve().then(n.bind(n,7227)),Promise.resolve().then(n.bind(n,93256)),Promise.resolve().then(n.bind(n,92094)),Promise.resolve().then(n.bind(n,25983)),Promise.resolve().then(n.bind(n,12132)),Promise.resolve().then(n.bind(n,35790)),Promise.resolve().then(n.bind(n,51855)),Promise.resolve().then(n.bind(n,92208)),Promise.resolve().then(n.bind(n,75779)),Promise.resolve().then(n.bind(n,33995)),Promise.resolve().then(n.bind(n,74914)),Promise.resolve().then(n.bind(n,9569)),Promise.resolve().then(n.bind(n,37530)),Promise.resolve().then(n.bind(n,73150)),Promise.resolve().then(n.bind(n,46602)),Promise.resolve().then(n.bind(n,95687)),Promise.resolve().then(n.bind(n,27287)),Promise.resolve().then(n.bind(n,3975)),Promise.resolve().then(n.bind(n,70715)),Promise.resolve().then(n.bind(n,21808)),Promise.resolve().then(n.bind(n,37247)),Promise.resolve().then(n.bind(n,95730)),Promise.resolve().then(n.bind(n,53201)),Promise.resolve().then(n.bind(n,14099)),Promise.resolve().then(n.bind(n,32921)),Promise.resolve().then(n.bind(n,54755)),Promise.resolve().then(n.bind(n,30760)),Promise.resolve().then(n.bind(n,91380)),Promise.resolve().then(n.bind(n,89480)),Promise.resolve().then(n.bind(n,43170)),Promise.resolve().then(n.bind(n,48080)),Promise.resolve().then(n.bind(n,75213)),Promise.resolve().then(n.bind(n,4831)),Promise.resolve().then(n.bind(n,40404)),Promise.resolve().then(n.bind(n,72504)),Promise.resolve().then(n.bind(n,58763)),Promise.resolve().then(n.bind(n,89174)),Promise.resolve().then(n.bind(n,94483)),Promise.resolve().then(n.bind(n,88089)),Promise.resolve().then(n.bind(n,86508)),Promise.resolve().then(n.bind(n,30551)),Promise.resolve().then(n.bind(n,18926)),Promise.resolve().then(n.bind(n,20072)),Promise.resolve().then(n.bind(n,80708)),Promise.resolve().then(n.bind(n,35012)),Promise.resolve().then(n.bind(n,3360)),Promise.resolve().then(n.bind(n,36495)),Promise.resolve().then(n.bind(n,45624)),Promise.resolve().then(n.bind(n,27080)),Promise.resolve().then(n.bind(n,14584)),Promise.resolve().then(n.bind(n,55459)),Promise.resolve().then(n.bind(n,43813)),Promise.resolve().then(n.bind(n,96367)),Promise.resolve().then(n.bind(n,60370)),Promise.resolve().then(n.bind(n,73036)),Promise.resolve().then(n.bind(n,60825)),Promise.resolve().then(n.bind(n,89463)),Promise.resolve().then(n.bind(n,14680)),Promise.resolve().then(n.bind(n,74188)),Promise.resolve().then(n.bind(n,38114)),Promise.resolve().then(n.bind(n,70857)),Promise.resolve().then(n.bind(n,20513)),Promise.resolve().then(n.bind(n,75366)),Promise.resolve().then(n.bind(n,50226)),Promise.resolve().then(n.bind(n,56695)),Promise.resolve().then(n.bind(n,13686)),Promise.resolve().then(n.bind(n,47107)),Promise.resolve().then(n.bind(n,81169)),Promise.resolve().then(n.bind(n,56834)),Promise.resolve().then(n.bind(n,56672)),Promise.resolve().then(n.bind(n,72940)),Promise.resolve().then(n.bind(n,40006)),Promise.resolve().then(n.bind(n,56990)),Promise.resolve().then(n.bind(n,62587)),Promise.resolve().then(n.bind(n,39292)),Promise.resolve().then(n.bind(n,33289)),Promise.resolve().then(n.bind(n,37366)),Promise.resolve().then(n.bind(n,59512)),Promise.resolve().then(n.bind(n,52009)),Promise.resolve().then(n.bind(n,88999)),Promise.resolve().then(n.bind(n,44488)),Promise.resolve().then(n.bind(n,30485)),Promise.resolve().then(n.bind(n,2562)),Promise.resolve().then(n.bind(n,7083)),Promise.resolve().then(n.bind(n,32658)),Promise.resolve().then(n.bind(n,56629)),Promise.resolve().then(n.bind(n,72777)),Promise.resolve().then(n.bind(n,12136)),Promise.resolve().then(n.bind(n,14413)),Promise.resolve().then(n.bind(n,71506)),Promise.resolve().then(n.bind(n,60352)),Promise.resolve().then(n.bind(n,34146)),Promise.resolve().then(n.bind(n,87166)),Promise.resolve().then(n.bind(n,81284)),Promise.resolve().then(n.bind(n,44109)),Promise.resolve().then(n.bind(n,65948)),Promise.resolve().then(n.bind(n,30391)),Promise.resolve().then(n.bind(n,86114)),Promise.resolve().then(n.bind(n,5244)),Promise.resolve().then(n.bind(n,11535)),Promise.resolve().then(n.bind(n,78183)),Promise.resolve().then(n.bind(n,60366)),Promise.resolve().then(n.bind(n,64210)),Promise.resolve().then(n.bind(n,77255)),Promise.resolve().then(n.bind(n,90908)),Promise.resolve().then(n.bind(n,67133)),Promise.resolve().then(n.bind(n,2274)),Promise.resolve().then(n.bind(n,86063)),Promise.resolve().then(n.bind(n,15096)),Promise.resolve().then(n.bind(n,27340)),Promise.resolve().then(n.bind(n,54271)),Promise.resolve().then(n.bind(n,47550)),Promise.resolve().then(n.bind(n,5333)),Promise.resolve().then(n.bind(n,19691)),Promise.resolve().then(n.bind(n,44087)),Promise.resolve().then(n.bind(n,80198)),Promise.resolve().then(n.bind(n,31126)),Promise.resolve().then(n.bind(n,73953)),Promise.resolve().then(n.bind(n,25706)),Promise.resolve().then(n.bind(n,52517)),Promise.resolve().then(n.bind(n,82754)),Promise.resolve().then(n.bind(n,13439)),Promise.resolve().then(n.bind(n,18565)),Promise.resolve().then(n.bind(n,45839)),Promise.resolve().then(n.bind(n,59515)),Promise.resolve().then(n.bind(n,13370)),Promise.resolve().then(n.bind(n,58453)),Promise.resolve().then(n.bind(n,87888)),Promise.resolve().then(n.bind(n,62616)),Promise.resolve().then(n.bind(n,91482)),Promise.resolve().then(n.bind(n,50568)),Promise.resolve().then(n.bind(n,65784)),Promise.resolve().then(n.bind(n,51298)),Promise.resolve().then(n.bind(n,10632)),Promise.resolve().then(n.bind(n,35331)),Promise.resolve().then(n.bind(n,60373)),Promise.resolve().then(n.bind(n,58804)),Promise.resolve().then(n.bind(n,69345)),Promise.resolve().then(n.bind(n,52762)),Promise.resolve().then(n.bind(n,34008)),Promise.resolve().then(n.t.bind(n,44742,23)),Promise.resolve().then(n.t.bind(n,56050,23))},99372:function(e,r,n){"use strict";n.d(r,{default:function(){return a}});var i=n(57437),s=n(21183),o=n(98314),t=n(35331),l=n(56672),h=n(40006),d=n(26440),m=n(27648),v=n(43301),b=n(94100),P=n(99376),u=n(2265);function a(){let e=(0,P.useRouter)(),[r,n]=(0,u.useState)(null);(0,u.useEffect)(()=>{let e=(0,v.Aj)(b.U_,e=>{n(e)});return()=>e()},[]);let a=async()=>{try{await (0,v.w7)(b.U_),e.push("/auth/signin")}catch(e){console.error("Logout error:",e)}};return(0,i.jsx)(s.Box,{as:"header",bg:"blue.600",px:4,py:3,color:"white",children:(0,i.jsxs)(o.Flex,{align:"center",maxW:"container.xl",mx:"auto",children:[(0,i.jsx)(m.default,{href:"/",passHref:!0,children:(0,i.jsx)(t.Heading,{size:"md",cursor:"pointer",children:"購物訂單追蹤"})}),(0,i.jsx)(l.Spacer,{}),(0,i.jsx)(h.HStack,{spacing:4,children:r?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.default,{href:"/dashboard",passHref:!0,children:(0,i.jsx)(d.Button,{variant:"ghost",colorScheme:"whiteAlpha",children:"儀表板"})}),(0,i.jsx)(m.default,{href:"/orders",passHref:!0,children:(0,i.jsx)(d.Button,{variant:"ghost",colorScheme:"whiteAlpha",children:"訂單"})}),(0,i.jsx)(d.Button,{colorScheme:"whiteAlpha",variant:"outline",onClick:a,children:"登出"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.default,{href:"/auth/signup",passHref:!0,children:(0,i.jsx)(d.Button,{colorScheme:"whiteAlpha",variant:"outline",children:"註冊"})}),(0,i.jsx)(m.default,{href:"/auth/signin",passHref:!0,children:(0,i.jsx)(d.Button,{colorScheme:"whiteAlpha",variant:"outline",children:"登入"})})]})})]})})}},70575:function(e,r,n){"use strict";n.d(r,{AuthProvider:function(){return d},a:function(){return m}});var i=n(57437),s=n(2265),o=n(43301),t=n(94100),l=n(5978);let h=(0,s.createContext)(void 0),d=e=>{let{children:r}=e,[n,d]=(0,s.useState)(null),[m,v]=(0,s.useState)(!0),[b,P]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=(0,o.Aj)(t.U_,async e=>{if(d(e),e)try{let r=(0,l.JU)(t.$V,"users",e.uid),n=await (0,l.QT)(r);n.exists()?P(n.data()):(console.warn("User document not found in Firestore for UID:",e.uid),P(null))}catch(e){console.error("Error fetching user document:",e),P(null)}finally{v(!1)}else P(null),v(!1)});return v(!0),()=>e()},[]);let u=(null==b?void 0:b.role)==="admin",a=(null==b?void 0:b.role)==="staff"||u;return(0,i.jsx)(h.Provider,{value:{user:n,loading:m,userData:b,isAdmin:u,isStaff:a},children:r})},m=()=>{let e=(0,s.useContext)(h);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},94100:function(e,r,n){"use strict";let i;n.d(r,{$V:function(){return h},U_:function(){return l}});var s=n(738),o=n(43301),t=n(5978);(0,s.C6)().length?(i=(0,s.Mq)(),console.log("Firebase Client SDK already initialized.")):(i=(0,s.ZF)({apiKey:"AIzaSyALS2VZcCRA8u7az9ZVNGFCtkLPvHjlERI",authDomain:"bqgracechurch.firebaseapp.com",projectId:"bqgracechurch",storageBucket:"bqgracechurch.firebasestorage.app",messagingSenderId:"751512628182",appId:"1:751512628182:web:7f6991cf5f066dfd821277"}),console.log("Firebase Client SDK initialized."));let l=(0,o.v0)(i),h=(0,t.ad)(i)},27648:function(e,r,n){"use strict";n.d(r,{default:function(){return s.a}});var i=n(72972),s=n.n(i)},99376:function(e,r,n){"use strict";var i=n(35475);n.o(i,"useRouter")&&n.d(r,{useRouter:function(){return i.useRouter}})},56050:function(){},44742:function(e){e.exports={style:{fontFamily:"'__Inter_d65c78', '__Inter_Fallback_d65c78'",fontStyle:"normal"},className:"__className_d65c78"}}},function(e){e.O(0,[342,358,58,387,815,731,972,145,971,117,744],function(){return e(e.s=77982)}),_N_E=e.O()}]);