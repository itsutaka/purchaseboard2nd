(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98],{1375:function(e,r,t){Promise.resolve().then(t.bind(t,20350))},20350:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return F}});var o=t(57437),s=t(13370),n=t(21183),i=t(42789),a=t(5641),l=t(62587),u=t(35331),c=t(60373),d=t(22535),h=t(97558),f=t(890),m=t(41387),x=t(26440),p=t(8906),g=t(66602),j=t(2265),v=t(27648),y=t(99376),C=t(94100),b=t(43301);function F(){let[e,r]=(0,j.useState)(""),[t,F]=(0,j.useState)(""),[S,_]=(0,j.useState)(""),[E,I]=(0,j.useState)(!1),k=(0,y.useRouter)(),w=(0,s.useToast)(),M=async r=>{r.preventDefault(),_(""),I(!0);try{let r=await (0,b.e5)(C.U_,e,t);console.log("Signin successful:",r.user.uid),w({title:"登入成功",description:"歡迎回來！",status:"success",duration:3e3,isClosable:!0,position:"top"}),k.push("/dashboard")}catch(e){if(console.error("Signin error:",e),e&&"object"==typeof e){let r="登入時發生錯誤";_(r="auth/invalid-email"===e.code?"電子郵件格式不正確":"auth/user-not-found"===e.code||"auth/wrong-password"===e.code?"電子郵件或密碼錯誤":"auth/too-many-requests"===e.code?"登入嘗試次數過多，請稍後再試":e.message||"登入時發生錯誤"),w({title:"登入失敗",description:r,status:"error",duration:5e3,isClosable:!0,position:"top"})}else{let e="登入時發生未知錯誤";_(e),w({title:"登入失敗",description:e,status:"error",duration:5e3,isClosable:!0,position:"top"})}}finally{I(!1)}};return(0,o.jsx)(n.Box,{maxW:"md",mx:"auto",py:10,children:(0,o.jsx)(i.Card,{children:(0,o.jsx)(a.CardBody,{children:(0,o.jsxs)(l.Stack,{spacing:8,children:[(0,o.jsxs)(n.Box,{textAlign:"center",children:[(0,o.jsx)(u.Heading,{size:"lg",children:"登入"}),(0,o.jsx)(c.Text,{mt:2,color:"gray.600",children:"登入您的帳號以使用購物訂單追蹤系統"})]}),(0,o.jsx)("form",{onSubmit:M,children:(0,o.jsxs)(l.Stack,{spacing:4,children:[(0,o.jsxs)(d.FormControl,{isRequired:!0,isInvalid:!!S,children:[(0,o.jsx)(h.FormLabel,{children:"電子郵件"}),(0,o.jsx)(f.Input,{type:"email",value:e,onChange:e=>r(e.target.value),placeholder:"your.email@example.com"})]}),(0,o.jsxs)(d.FormControl,{isRequired:!0,isInvalid:!!S,children:[(0,o.jsx)(h.FormLabel,{children:"密碼"}),(0,o.jsx)(f.Input,{type:"password",value:t,onChange:e=>F(e.target.value)}),S&&(0,o.jsx)(m.FormErrorMessage,{children:S})]}),(0,o.jsx)(x.Button,{colorScheme:"blue",type:"submit",isLoading:E,width:"full",mt:4,children:"登入"})]})}),(0,o.jsx)(p.Divider,{}),(0,o.jsx)(n.Box,{textAlign:"center",children:(0,o.jsxs)(c.Text,{children:["還沒有帳號？ "," ",(0,o.jsx)(v.default,{href:"/auth/signup",legacyBehavior:!0,children:(0,o.jsx)(g.Link,{color:"blue.500",children:"註冊"})})]})})]})})})})}},94100:function(e,r,t){"use strict";let o;t.d(r,{$V:function(){return l},U_:function(){return a}});var s=t(738),n=t(43301),i=t(5978);(0,s.C6)().length?(o=(0,s.Mq)(),console.log("Firebase Client SDK already initialized.")):(o=(0,s.ZF)({apiKey:"AIzaSyALS2VZcCRA8u7az9ZVNGFCtkLPvHjlERI",authDomain:"bqgracechurch.firebaseapp.com",projectId:"bqgracechurch",storageBucket:"bqgracechurch.firebasestorage.app",messagingSenderId:"751512628182",appId:"1:751512628182:web:7f6991cf5f066dfd821277"}),console.log("Firebase Client SDK initialized."));let a=(0,n.v0)(o),l=(0,i.ad)(o)},27648:function(e,r,t){"use strict";t.d(r,{default:function(){return s.a}});var o=t(72972),s=t.n(o)},99376:function(e,r,t){"use strict";var o=t(35475);t.o(o,"useRouter")&&t.d(r,{useRouter:function(){return o.useRouter}})},41387:function(e,r,t){"use strict";t.d(r,{FormErrorIcon:function(){return x},FormErrorMessage:function(){return m},useFormErrorStyles:function(){return f}});var o=t(57437),s=t(22223),n=t(34008),i=t(24377),a=t(22535),l=t(25112),u=t(44109),c=t(11535),d=t(81284);let[h,f]=(0,n.createContext)({name:"FormErrorStylesContext",errorMessage:"useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormError />\" "}),m=(0,u.forwardRef)((e,r)=>{let t=(0,c.useMultiStyleConfig)("FormError",e),n=(0,s.L)(e),l=(0,a.useFormControlContext)();return(null==l?void 0:l.isInvalid)?(0,o.jsx)(h,{value:t,children:(0,o.jsx)(d.chakra.div,{...null==l?void 0:l.getErrorMessageProps(n,r),className:(0,i.cx)("chakra-form__error-message",e.className),__css:{display:"flex",alignItems:"center",...t.text}})}):null});m.displayName="FormErrorMessage";let x=(0,u.forwardRef)((e,r)=>{let t=f(),s=(0,a.useFormControlContext)();if(!(null==s?void 0:s.isInvalid))return null;let n=(0,i.cx)("chakra-form__error-icon",e.className);return(0,o.jsx)(l.Icon,{ref:r,"aria-hidden":!0,...e,__css:t.icon,className:n,children:(0,o.jsx)("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"})})});x.displayName="FormErrorIcon"}},function(e){e.O(0,[358,58,387,815,731,972,971,117,744],function(){return e(e.s=1375)}),_N_E=e.O()}]);