(()=>{var e={};e.id=686,e.ids=[686],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},46598:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>u,routeModule:()=>v,tree:()=>d}),t(67259),t(13153),t(35866);var s=t(23191),i=t(88716),o=t(37922),n=t.n(o),l=t(95231),a={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>l[e]);t.d(r,a);let d=["",{children:["orders",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,67259)),"/Users/kih/Documents/test/app/orders/create/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,13153)),"/Users/kih/Documents/test/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/kih/Documents/test/app/orders/create/page.tsx"],m="/orders/create/page",h={require:t,loadChunk:()=>Promise.resolve()},v=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/orders/create/page",pathname:"/orders/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},86567:(e,r,t)=>{Promise.resolve().then(t.bind(t,43644)),Promise.resolve().then(t.bind(t,22226)),Promise.resolve().then(t.bind(t,14434)),Promise.resolve().then(t.bind(t,76475)),Promise.resolve().then(t.bind(t,34878)),Promise.resolve().then(t.bind(t,87122)),Promise.resolve().then(t.bind(t,1343)),Promise.resolve().then(t.bind(t,75111)),Promise.resolve().then(t.bind(t,37120)),Promise.resolve().then(t.bind(t,22778)),Promise.resolve().then(t.bind(t,44702)),Promise.resolve().then(t.bind(t,29017)),Promise.resolve().then(t.bind(t,12102)),Promise.resolve().then(t.bind(t,90535)),Promise.resolve().then(t.bind(t,75096)),Promise.resolve().then(t.bind(t,10691)),Promise.resolve().then(t.bind(t,93662)),Promise.resolve().then(t.bind(t,91251)),Promise.resolve().then(t.bind(t,61230)),Promise.resolve().then(t.bind(t,92436)),Promise.resolve().then(t.bind(t,60395)),Promise.resolve().then(t.bind(t,68991)),Promise.resolve().then(t.bind(t,1425)),Promise.resolve().then(t.bind(t,54865)),Promise.resolve().then(t.bind(t,73723)),Promise.resolve().then(t.bind(t,41412)),Promise.resolve().then(t.bind(t,99353)),Promise.resolve().then(t.bind(t,933)),Promise.resolve().then(t.bind(t,58952)),Promise.resolve().then(t.bind(t,84105)),Promise.resolve().then(t.bind(t,5729)),Promise.resolve().then(t.bind(t,89034)),Promise.resolve().then(t.bind(t,98046)),Promise.resolve().then(t.bind(t,42637)),Promise.resolve().then(t.bind(t,26128)),Promise.resolve().then(t.bind(t,97336)),Promise.resolve().then(t.bind(t,13509)),Promise.resolve().then(t.bind(t,63184)),Promise.resolve().then(t.bind(t,47773)),Promise.resolve().then(t.bind(t,41383)),Promise.resolve().then(t.bind(t,32451)),Promise.resolve().then(t.bind(t,36478)),Promise.resolve().then(t.bind(t,82170)),Promise.resolve().then(t.bind(t,71290)),Promise.resolve().then(t.bind(t,7792)),Promise.resolve().then(t.bind(t,2809)),Promise.resolve().then(t.bind(t,19865)),Promise.resolve().then(t.bind(t,59826)),Promise.resolve().then(t.bind(t,95650)),Promise.resolve().then(t.bind(t,23707)),Promise.resolve().then(t.bind(t,68850)),Promise.resolve().then(t.bind(t,86631)),Promise.resolve().then(t.bind(t,91341)),Promise.resolve().then(t.bind(t,69120)),Promise.resolve().then(t.bind(t,1891)),Promise.resolve().then(t.bind(t,93916)),Promise.resolve().then(t.bind(t,42053)),Promise.resolve().then(t.bind(t,27547)),Promise.resolve().then(t.bind(t,40150)),Promise.resolve().then(t.bind(t,10646)),Promise.resolve().then(t.bind(t,76359)),Promise.resolve().then(t.bind(t,872)),Promise.resolve().then(t.bind(t,19102)),Promise.resolve().then(t.bind(t,99663)),Promise.resolve().then(t.bind(t,88558)),Promise.resolve().then(t.bind(t,73183)),Promise.resolve().then(t.bind(t,11811)),Promise.resolve().then(t.bind(t,20694)),Promise.resolve().then(t.bind(t,5881)),Promise.resolve().then(t.bind(t,96396)),Promise.resolve().then(t.bind(t,34965)),Promise.resolve().then(t.bind(t,44557)),Promise.resolve().then(t.bind(t,15820)),Promise.resolve().then(t.bind(t,80494)),Promise.resolve().then(t.bind(t,8435)),Promise.resolve().then(t.bind(t,47315)),Promise.resolve().then(t.bind(t,98228)),Promise.resolve().then(t.bind(t,75947)),Promise.resolve().then(t.bind(t,98729)),Promise.resolve().then(t.bind(t,32356)),Promise.resolve().then(t.bind(t,72574)),Promise.resolve().then(t.bind(t,57857)),Promise.resolve().then(t.bind(t,9301)),Promise.resolve().then(t.bind(t,22948)),Promise.resolve().then(t.bind(t,80106)),Promise.resolve().then(t.bind(t,20974)),Promise.resolve().then(t.bind(t,70753)),Promise.resolve().then(t.bind(t,95857)),Promise.resolve().then(t.bind(t,56556)),Promise.resolve().then(t.bind(t,85078)),Promise.resolve().then(t.bind(t,62995)),Promise.resolve().then(t.bind(t,67805)),Promise.resolve().then(t.bind(t,9397)),Promise.resolve().then(t.bind(t,19132)),Promise.resolve().then(t.bind(t,19485)),Promise.resolve().then(t.bind(t,44581)),Promise.resolve().then(t.bind(t,13216)),Promise.resolve().then(t.bind(t,72986)),Promise.resolve().then(t.bind(t,2478)),Promise.resolve().then(t.bind(t,23220)),Promise.resolve().then(t.bind(t,93439)),Promise.resolve().then(t.bind(t,49661)),Promise.resolve().then(t.bind(t,97679)),Promise.resolve().then(t.bind(t,39527)),Promise.resolve().then(t.bind(t,2172)),Promise.resolve().then(t.bind(t,18063)),Promise.resolve().then(t.bind(t,12541)),Promise.resolve().then(t.bind(t,52393)),Promise.resolve().then(t.bind(t,14608)),Promise.resolve().then(t.bind(t,55002)),Promise.resolve().then(t.bind(t,80199)),Promise.resolve().then(t.bind(t,1702)),Promise.resolve().then(t.bind(t,75063)),Promise.resolve().then(t.bind(t,20770)),Promise.resolve().then(t.bind(t,20724)),Promise.resolve().then(t.bind(t,56122)),Promise.resolve().then(t.bind(t,26304)),Promise.resolve().then(t.bind(t,55558)),Promise.resolve().then(t.bind(t,77719)),Promise.resolve().then(t.bind(t,90856)),Promise.resolve().then(t.bind(t,23106)),Promise.resolve().then(t.bind(t,38916)),Promise.resolve().then(t.bind(t,76691)),Promise.resolve().then(t.bind(t,4314)),Promise.resolve().then(t.bind(t,61378)),Promise.resolve().then(t.bind(t,51639)),Promise.resolve().then(t.bind(t,47601)),Promise.resolve().then(t.bind(t,10334)),Promise.resolve().then(t.bind(t,7818)),Promise.resolve().then(t.bind(t,99167)),Promise.resolve().then(t.bind(t,51010)),Promise.resolve().then(t.bind(t,36051)),Promise.resolve().then(t.bind(t,87696)),Promise.resolve().then(t.bind(t,70701)),Promise.resolve().then(t.bind(t,4963)),Promise.resolve().then(t.bind(t,91051)),Promise.resolve().then(t.bind(t,58427)),Promise.resolve().then(t.bind(t,90794)),Promise.resolve().then(t.bind(t,19025)),Promise.resolve().then(t.bind(t,32294)),Promise.resolve().then(t.bind(t,17401)),Promise.resolve().then(t.bind(t,84889)),Promise.resolve().then(t.bind(t,30726)),Promise.resolve().then(t.bind(t,47715)),Promise.resolve().then(t.bind(t,90921)),Promise.resolve().then(t.bind(t,31306)),Promise.resolve().then(t.bind(t,12504)),Promise.resolve().then(t.bind(t,6530)),Promise.resolve().then(t.bind(t,83963)),Promise.resolve().then(t.bind(t,74733)),Promise.resolve().then(t.bind(t,7590)),Promise.resolve().then(t.bind(t,62378)),Promise.resolve().then(t.bind(t,79612)),Promise.resolve().then(t.bind(t,10469)),Promise.resolve().then(t.bind(t,60946)),Promise.resolve().then(t.bind(t,22347)),Promise.resolve().then(t.bind(t,86621)),Promise.resolve().then(t.bind(t,33622)),Promise.resolve().then(t.bind(t,90169)),Promise.resolve().then(t.bind(t,99342)),Promise.resolve().then(t.bind(t,89312)),Promise.resolve().then(t.bind(t,86446)),Promise.resolve().then(t.bind(t,12524)),Promise.resolve().then(t.bind(t,67424)),Promise.resolve().then(t.bind(t,7175)),Promise.resolve().then(t.bind(t,19409)),Promise.resolve().then(t.bind(t,63640)),Promise.resolve().then(t.bind(t,65441)),Promise.resolve().then(t.bind(t,89210)),Promise.resolve().then(t.bind(t,63990)),Promise.resolve().then(t.bind(t,67079)),Promise.resolve().then(t.bind(t,95550)),Promise.resolve().then(t.bind(t,92003)),Promise.resolve().then(t.bind(t,79179)),Promise.resolve().then(t.bind(t,98887)),Promise.resolve().then(t.bind(t,10742)),Promise.resolve().then(t.bind(t,763)),Promise.resolve().then(t.bind(t,60720)),Promise.resolve().then(t.bind(t,35153)),Promise.resolve().then(t.bind(t,47473)),Promise.resolve().then(t.bind(t,41049)),Promise.resolve().then(t.bind(t,97738)),Promise.resolve().then(t.bind(t,59925)),Promise.resolve().then(t.bind(t,53473)),Promise.resolve().then(t.bind(t,4497)),Promise.resolve().then(t.bind(t,70939)),Promise.resolve().then(t.bind(t,49511)),Promise.resolve().then(t.bind(t,18100)),Promise.resolve().then(t.bind(t,60987)),Promise.resolve().then(t.bind(t,32532)),Promise.resolve().then(t.bind(t,53243)),Promise.resolve().then(t.bind(t,72398)),Promise.resolve().then(t.bind(t,62313)),Promise.resolve().then(t.bind(t,41579)),Promise.resolve().then(t.bind(t,27437)),Promise.resolve().then(t.bind(t,68471)),Promise.resolve().then(t.bind(t,48108)),Promise.resolve().then(t.bind(t,73799)),Promise.resolve().then(t.bind(t,17115)),Promise.resolve().then(t.bind(t,32950)),Promise.resolve().then(t.bind(t,35033)),Promise.resolve().then(t.bind(t,86393)),Promise.resolve().then(t.bind(t,34515)),Promise.resolve().then(t.bind(t,13663)),Promise.resolve().then(t.bind(t,32113)),Promise.resolve().then(t.bind(t,14673)),Promise.resolve().then(t.bind(t,84641)),Promise.resolve().then(t.bind(t,19016)),Promise.resolve().then(t.bind(t,55748)),Promise.resolve().then(t.bind(t,75965)),Promise.resolve().then(t.bind(t,54379)),Promise.resolve().then(t.bind(t,3009)),Promise.resolve().then(t.bind(t,33763)),Promise.resolve().then(t.bind(t,267)),Promise.resolve().then(t.bind(t,28615)),Promise.resolve().then(t.bind(t,17185)),Promise.resolve().then(t.bind(t,69793)),Promise.resolve().then(t.bind(t,1085)),Promise.resolve().then(t.bind(t,33400)),Promise.resolve().then(t.bind(t,88195)),Promise.resolve().then(t.bind(t,30826)),Promise.resolve().then(t.bind(t,32654)),Promise.resolve().then(t.bind(t,76736)),Promise.resolve().then(t.bind(t,54369)),Promise.resolve().then(t.bind(t,78150)),Promise.resolve().then(t.bind(t,84051)),Promise.resolve().then(t.bind(t,57003)),Promise.resolve().then(t.bind(t,5802)),Promise.resolve().then(t.bind(t,62340)),Promise.resolve().then(t.bind(t,88541)),Promise.resolve().then(t.bind(t,76589)),Promise.resolve().then(t.bind(t,85326)),Promise.resolve().then(t.bind(t,7768)),Promise.resolve().then(t.bind(t,31345)),Promise.resolve().then(t.bind(t,19831)),Promise.resolve().then(t.bind(t,72749)),Promise.resolve().then(t.bind(t,67474)),Promise.resolve().then(t.bind(t,99673)),Promise.resolve().then(t.bind(t,40438)),Promise.resolve().then(t.bind(t,5734)),Promise.resolve().then(t.bind(t,60122)),Promise.resolve().then(t.bind(t,6081)),Promise.resolve().then(t.bind(t,4397)),Promise.resolve().then(t.bind(t,31757)),Promise.resolve().then(t.bind(t,59575)),Promise.resolve().then(t.bind(t,67640)),Promise.resolve().then(t.bind(t,22760)),Promise.resolve().then(t.bind(t,75051)),Promise.resolve().then(t.bind(t,25094)),Promise.resolve().then(t.bind(t,97870)),Promise.resolve().then(t.bind(t,49372)),Promise.resolve().then(t.bind(t,94010)),Promise.resolve().then(t.bind(t,8654)),Promise.resolve().then(t.bind(t,66271)),Promise.resolve().then(t.bind(t,45103)),Promise.resolve().then(t.bind(t,24838)),Promise.resolve().then(t.bind(t,80498)),Promise.resolve().then(t.bind(t,78116)),Promise.resolve().then(t.bind(t,42432))},43644:(e,r,t)=>{"use strict";t.d(r,{default:()=>eM});var s=t(10326),i=t(59575),o=t(872),n=t(32532),l=t(45103),a=t(71290),d=t(66271),u=t(41579),m=t(13216),h=t(2478),v=t(56122),b=t(72986),c=t(99673),f=t(47473),P=t(62378),y=t(1891),p=t(17577),g=e=>"checkbox"===e.type,x=e=>e instanceof Date,_=e=>null==e;let F=e=>"object"==typeof e;var V=e=>!_(e)&&!Array.isArray(e)&&F(e)&&!x(e),A=e=>V(e)&&e.target?g(e.target)?e.target.checked:e.target.value:e,w=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,S=(e,r)=>e.has(w(r)),k=e=>{let r=e.constructor&&e.constructor.prototype;return V(r)&&r.hasOwnProperty("isPrototypeOf")},D="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function j(e){let r;let t=Array.isArray(e),s="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(!(D&&(e instanceof Blob||s))&&(t||V(e))))return e;else if(r=t?[]:{},t||k(e))for(let t in e)e.hasOwnProperty(t)&&(r[t]=j(e[t]));else r=e;return r}var q=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>void 0===e,O=(e,r,t)=>{if(!r||!V(e))return t;let s=q(r.split(/[,[\].]+?/)).reduce((e,r)=>_(e)?e:e[r],e);return C(s)||s===e?C(e[r])?t:e[r]:s},E=e=>"boolean"==typeof e,T=e=>/^\w*$/.test(e),L=e=>q(e.replace(/["|']|\]/g,"").split(/\.|\[/)),U=(e,r,t)=>{let s=-1,i=T(r)?[r]:L(r),o=i.length,n=o-1;for(;++s<o;){let r=i[s],o=t;if(s!==n){let t=e[r];o=V(t)||Array.isArray(t)?t:isNaN(+i[s+1])?{}:[]}if("__proto__"===r||"constructor"===r||"prototype"===r)return;e[r]=o,e=e[r]}};let M={BLUR:"blur",FOCUS_OUT:"focusout"},I={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},B={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};p.createContext(null);var N=(e,r,t,s=!0)=>{let i={defaultValues:r._defaultValues};for(let o in e)Object.defineProperty(i,o,{get:()=>(r._proxyFormState[o]!==I.all&&(r._proxyFormState[o]=!s||I.all),t&&(t[o]=!0),e[o])});return i};let R="undefined"!=typeof window?p.useLayoutEffect:p.useEffect;var W=e=>"string"==typeof e,z=(e,r,t,s,i)=>W(e)?(s&&r.watch.add(e),O(t,e,i)):Array.isArray(e)?e.map(e=>(s&&r.watch.add(e),O(t,e))):(s&&(r.watchAll=!0),t),H=(e,r,t,s,i)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:i||!0}}:{},$=e=>Array.isArray(e)?e:[e],G=()=>{let e=[];return{get observers(){return e},next:r=>{for(let t of e)t.next&&t.next(r)},subscribe:r=>(e.push(r),{unsubscribe:()=>{e=e.filter(e=>e!==r)}}),unsubscribe:()=>{e=[]}}},X=e=>_(e)||!F(e);function Z(e,r){if(X(e)||X(r))return e===r;if(x(e)&&x(r))return e.getTime()===r.getTime();let t=Object.keys(e),s=Object.keys(r);if(t.length!==s.length)return!1;for(let i of t){let t=e[i];if(!s.includes(i))return!1;if("ref"!==i){let e=r[i];if(x(t)&&x(e)||V(t)&&V(e)||Array.isArray(t)&&Array.isArray(e)?!Z(t,e):t!==e)return!1}}return!0}var J=e=>V(e)&&!Object.keys(e).length,K=e=>"file"===e.type,Q=e=>"function"==typeof e,Y=e=>{if(!D)return!1;let r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},ee=e=>"select-multiple"===e.type,er=e=>"radio"===e.type,et=e=>er(e)||g(e),es=e=>Y(e)&&e.isConnected;function ei(e,r){let t=Array.isArray(r)?r:T(r)?[r]:L(r),s=1===t.length?e:function(e,r){let t=r.slice(0,-1).length,s=0;for(;s<t;)e=C(e)?s++:e[r[s++]];return e}(e,t),i=t.length-1,o=t[i];return s&&delete s[o],0!==i&&(V(s)&&J(s)||Array.isArray(s)&&function(e){for(let r in e)if(e.hasOwnProperty(r)&&!C(e[r]))return!1;return!0}(s))&&ei(e,t.slice(0,-1)),e}var eo=e=>{for(let r in e)if(Q(e[r]))return!0;return!1};function en(e,r={}){let t=Array.isArray(e);if(V(e)||t)for(let t in e)Array.isArray(e[t])||V(e[t])&&!eo(e[t])?(r[t]=Array.isArray(e[t])?[]:{},en(e[t],r[t])):_(e[t])||(r[t]=!0);return r}var el=(e,r)=>(function e(r,t,s){let i=Array.isArray(r);if(V(r)||i)for(let i in r)Array.isArray(r[i])||V(r[i])&&!eo(r[i])?C(t)||X(s[i])?s[i]=Array.isArray(r[i])?en(r[i],[]):{...en(r[i])}:e(r[i],_(t)?{}:t[i],s[i]):s[i]=!Z(r[i],t[i]);return s})(e,r,en(r));let ea={value:!1,isValid:!1},ed={value:!0,isValid:!0};var eu=e=>{if(Array.isArray(e)){if(e.length>1){let r=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||""===e[0].value?ed:{value:e[0].value,isValid:!0}:ed:ea}return ea},em=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:s})=>C(e)?e:r?""===e?NaN:e?+e:e:t&&W(e)?new Date(e):s?s(e):e;let eh={isValid:!1,value:null};var ev=e=>Array.isArray(e)?e.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,eh):eh;function eb(e){let r=e.ref;return K(r)?r.files:er(r)?ev(e.refs).value:ee(r)?[...r.selectedOptions].map(({value:e})=>e):g(r)?eu(e.refs).value:em(C(r.value)?e.ref.value:r.value,e)}var ec=(e,r,t,s)=>{let i={};for(let t of e){let e=O(r,t);e&&U(i,t,e._f)}return{criteriaMode:t,names:[...e],fields:i,shouldUseNativeValidation:s}},ef=e=>e instanceof RegExp,eP=e=>C(e)?e:ef(e)?e.source:V(e)?ef(e.value)?e.value.source:e.value:e,ey=e=>({isOnSubmit:!e||e===I.onSubmit,isOnBlur:e===I.onBlur,isOnChange:e===I.onChange,isOnAll:e===I.all,isOnTouch:e===I.onTouched});let ep="AsyncFunction";var eg=e=>!!e&&!!e.validate&&!!(Q(e.validate)&&e.validate.constructor.name===ep||V(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===ep)),ex=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),e_=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));let eF=(e,r,t,s)=>{for(let i of t||Object.keys(e)){let t=O(e,i);if(t){let{_f:e,...o}=t;if(e){if(e.refs&&e.refs[0]&&r(e.refs[0],i)&&!s||e.ref&&r(e.ref,e.name)&&!s)return!0;if(eF(o,r))break}else if(V(o)&&eF(o,r))break}}};function eV(e,r,t){let s=O(e,t);if(s||T(t))return{error:s,name:t};let i=t.split(".");for(;i.length;){let s=i.join("."),o=O(r,s),n=O(e,s);if(o&&!Array.isArray(o)&&t!==s)break;if(n&&n.type)return{name:s,error:n};i.pop()}return{name:t}}var eA=(e,r,t,s)=>{t(e);let{name:i,...o}=e;return J(o)||Object.keys(o).length>=Object.keys(r).length||Object.keys(o).find(e=>r[e]===(!s||I.all))},ew=(e,r,t)=>!e||!r||e===r||$(e).some(e=>e&&(t?e===r:e.startsWith(r)||r.startsWith(e))),eS=(e,r,t,s,i)=>!i.isOnAll&&(!t&&i.isOnTouch?!(r||e):(t?s.isOnBlur:i.isOnBlur)?!e:(t?!s.isOnChange:!i.isOnChange)||e),ek=(e,r)=>!q(O(e,r)).length&&ei(e,r),eD=(e,r,t)=>{let s=$(O(e,t));return U(s,"root",r[t]),U(e,t,s),e},ej=e=>W(e);function eq(e,r,t="validate"){if(ej(e)||Array.isArray(e)&&e.every(ej)||E(e)&&!e)return{type:t,message:ej(e)?e:"",ref:r}}var eC=e=>V(e)&&!ef(e)?e:{value:e,message:""},eO=async(e,r,t,s,i,o)=>{let{ref:n,refs:l,required:a,maxLength:d,minLength:u,min:m,max:h,pattern:v,validate:b,name:c,valueAsNumber:f,mount:P}=e._f,y=O(t,c);if(!P||r.has(c))return{};let p=l?l[0]:n,x=e=>{i&&p.reportValidity&&(p.setCustomValidity(E(e)?"":e||""),p.reportValidity())},F={},A=er(n),w=g(n),S=(f||K(n))&&C(n.value)&&C(y)||Y(n)&&""===n.value||""===y||Array.isArray(y)&&!y.length,k=H.bind(null,c,s,F),D=(e,r,t,s=B.maxLength,i=B.minLength)=>{let o=e?r:t;F[c]={type:e?s:i,message:o,ref:n,...k(e?s:i,o)}};if(o?!Array.isArray(y)||!y.length:a&&(!(A||w)&&(S||_(y))||E(y)&&!y||w&&!eu(l).isValid||A&&!ev(l).isValid)){let{value:e,message:r}=ej(a)?{value:!!a,message:a}:eC(a);if(e&&(F[c]={type:B.required,message:r,ref:p,...k(B.required,r)},!s))return x(r),F}if(!S&&(!_(m)||!_(h))){let e,r;let t=eC(h),i=eC(m);if(_(y)||isNaN(y)){let s=n.valueAsDate||new Date(y),o=e=>new Date(new Date().toDateString()+" "+e),l="time"==n.type,a="week"==n.type;W(t.value)&&y&&(e=l?o(y)>o(t.value):a?y>t.value:s>new Date(t.value)),W(i.value)&&y&&(r=l?o(y)<o(i.value):a?y<i.value:s<new Date(i.value))}else{let s=n.valueAsNumber||(y?+y:y);_(t.value)||(e=s>t.value),_(i.value)||(r=s<i.value)}if((e||r)&&(D(!!e,t.message,i.message,B.max,B.min),!s))return x(F[c].message),F}if((d||u)&&!S&&(W(y)||o&&Array.isArray(y))){let e=eC(d),r=eC(u),t=!_(e.value)&&y.length>+e.value,i=!_(r.value)&&y.length<+r.value;if((t||i)&&(D(t,e.message,r.message),!s))return x(F[c].message),F}if(v&&!S&&W(y)){let{value:e,message:r}=eC(v);if(ef(e)&&!y.match(e)&&(F[c]={type:B.pattern,message:r,ref:n,...k(B.pattern,r)},!s))return x(r),F}if(b){if(Q(b)){let e=eq(await b(y,t),p);if(e&&(F[c]={...e,...k(B.validate,e.message)},!s))return x(e.message),F}else if(V(b)){let e={};for(let r in b){if(!J(e)&&!s)break;let i=eq(await b[r](y,t),p,r);i&&(e={...i,...k(r,i.message)},x(i.message),s&&(F[c]=e))}if(!J(e)&&(F[c]={ref:p,...e},!s))return F}}return x(!0),F};let eE={mode:I.onSubmit,reValidateMode:I.onChange,shouldFocusError:!0};var eT=t(44099),eL=t(35047),eU=t(10732);function eM(){let{register:e,handleSubmit:r,formState:{errors:t}}=function(e={}){let r=p.useRef(void 0),t=p.useRef(void 0),[s,i]=p.useState({isDirty:!1,isValidating:!1,isLoading:Q(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Q(e.defaultValues)?void 0:e.defaultValues});!r.current&&(r.current={...e.formControl?e.formControl:function(e={}){let r,t={...eE,...e},s={submitCount:0,isDirty:!1,isReady:!1,isLoading:Q(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},o=(V(t.defaultValues)||V(t.values))&&j(t.defaultValues||t.values)||{},n=t.shouldUnregister?{}:j(o),l={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d=0,u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={...u},h={array:G(),state:G()},v=t.criteriaMode===I.all,b=e=>r=>{clearTimeout(d),d=setTimeout(e,r)},c=async e=>{if(!t.disabled&&(u.isValid||m.isValid||e)){let e=t.resolver?J((await w()).errors):await T(i,!0);e!==s.isValid&&h.state.next({isValid:e})}},f=(e,r)=>{!t.disabled&&(u.isValidating||u.validatingFields||m.isValidating||m.validatingFields)&&((e||Array.from(a.mount)).forEach(e=>{e&&(r?U(s.validatingFields,e,r):ei(s.validatingFields,e))}),h.state.next({validatingFields:s.validatingFields,isValidating:!J(s.validatingFields)}))},P=(e,r)=>{U(s.errors,e,r),h.state.next({errors:s.errors})},y=(e,r,t,s)=>{let a=O(i,e);if(a){let i=O(n,e,C(t)?O(o,e):t);C(i)||s&&s.defaultChecked||r?U(n,e,r?i:eb(a._f)):N(e,i),l.mount&&c()}},p=(e,r,i,n,l)=>{let a=!1,d=!1,v={name:e};if(!t.disabled){if(!i||n){(u.isDirty||m.isDirty)&&(d=s.isDirty,s.isDirty=v.isDirty=L(),a=d!==v.isDirty);let t=Z(O(o,e),r);d=!!O(s.dirtyFields,e),t?ei(s.dirtyFields,e):U(s.dirtyFields,e,!0),v.dirtyFields=s.dirtyFields,a=a||(u.dirtyFields||m.dirtyFields)&&!t!==d}if(i){let r=O(s.touchedFields,e);r||(U(s.touchedFields,e,i),v.touchedFields=s.touchedFields,a=a||(u.touchedFields||m.touchedFields)&&r!==i)}a&&l&&h.state.next(v)}return a?v:{}},F=(e,i,o,n)=>{let l=O(s.errors,e),a=(u.isValid||m.isValid)&&E(i)&&s.isValid!==i;if(t.delayError&&o?(r=b(()=>P(e,o)))(t.delayError):(clearTimeout(d),r=null,o?U(s.errors,e,o):ei(s.errors,e)),(o?!Z(l,o):l)||!J(n)||a){let r={...n,...a&&E(i)?{isValid:i}:{},errors:s.errors,name:e};s={...s,...r},h.state.next(r)}},w=async e=>{f(e,!0);let r=await t.resolver(n,t.context,ec(e||a.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return f(e),r},k=async e=>{let{errors:r}=await w(e);if(e)for(let t of e){let e=O(r,t);e?U(s.errors,t,e):ei(s.errors,t)}else s.errors=r;return r},T=async(e,r,i={valid:!0})=>{for(let o in e){let l=e[o];if(l){let{_f:e,...d}=l;if(e){let d=a.array.has(e.name),m=l._f&&eg(l._f);m&&u.validatingFields&&f([o],!0);let h=await eO(l,a.disabled,n,v,t.shouldUseNativeValidation&&!r,d);if(m&&u.validatingFields&&f([o]),h[e.name]&&(i.valid=!1,r))break;r||(O(h,e.name)?d?eD(s.errors,h,e.name):U(s.errors,e.name,h[e.name]):ei(s.errors,e.name))}J(d)||await T(d,r,i)}}return i.valid},L=(e,r)=>!t.disabled&&(e&&r&&U(n,e,r),!Z(en(),o)),B=(e,r,t)=>z(e,a,{...l.mount?n:C(r)?o:W(e)?{[e]:r}:r},t,r),N=(e,r,t={})=>{let s=O(i,e),o=r;if(s){let t=s._f;t&&(t.disabled||U(n,e,em(r,t)),o=Y(t.ref)&&_(r)?"":r,ee(t.ref)?[...t.ref.options].forEach(e=>e.selected=o.includes(e.value)):t.refs?g(t.ref)?t.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(o)?e.checked=!!o.find(r=>r===e.value):e.checked=o===e.value||!!o)}):t.refs.forEach(e=>e.checked=e.value===o):K(t.ref)?t.ref.value="":(t.ref.value=o,t.ref.type||h.state.next({name:e,values:j(n)})))}(t.shouldDirty||t.shouldTouch)&&p(e,o,t.shouldTouch,t.shouldDirty,!0),t.shouldValidate&&eo(e)},R=(e,r,t)=>{for(let s in r){if(!r.hasOwnProperty(s))return;let o=r[s],n=`${e}.${s}`,l=O(i,n);(a.array.has(e)||V(o)||l&&!l._f)&&!x(o)?R(n,o,t):N(n,o,t)}},H=(e,r,t={})=>{let d=O(i,e),v=a.array.has(e),b=j(r);U(n,e,b),v?(h.array.next({name:e,values:j(n)}),(u.isDirty||u.dirtyFields||m.isDirty||m.dirtyFields)&&t.shouldDirty&&h.state.next({name:e,dirtyFields:el(o,n),isDirty:L(e,b)})):!d||d._f||_(b)?N(e,b,t):R(e,b,t),e_(e,a)&&h.state.next({...s}),h.state.next({name:l.mount?e:void 0,values:j(n)})},X=async e=>{l.mount=!0;let o=e.target,d=o.name,b=!0,P=O(i,d),y=e=>{b=Number.isNaN(e)||x(e)&&isNaN(e.getTime())||Z(e,O(n,d,e))},g=ey(t.mode),_=ey(t.reValidateMode);if(P){let l,x;let V=o.type?eb(P._f):A(e),S=e.type===M.BLUR||e.type===M.FOCUS_OUT,k=!ex(P._f)&&!t.resolver&&!O(s.errors,d)&&!P._f.deps||eS(S,O(s.touchedFields,d),s.isSubmitted,_,g),D=e_(d,a,S);U(n,d,V),S?(P._f.onBlur&&P._f.onBlur(e),r&&r(0)):P._f.onChange&&P._f.onChange(e);let q=p(d,V,S),C=!J(q)||D;if(S||h.state.next({name:d,type:e.type,values:j(n)}),k)return(u.isValid||m.isValid)&&("onBlur"===t.mode?S&&c():S||c()),C&&h.state.next({name:d,...D?{}:q});if(!S&&D&&h.state.next({...s}),t.resolver){let{errors:e}=await w([d]);if(y(V),b){let r=eV(s.errors,i,d),t=eV(e,i,r.name||d);l=t.error,d=t.name,x=J(e)}}else f([d],!0),l=(await eO(P,a.disabled,n,v,t.shouldUseNativeValidation))[d],f([d]),y(V),b&&(l?x=!1:(u.isValid||m.isValid)&&(x=await T(i,!0)));b&&(P._f.deps&&eo(P._f.deps),F(d,x,l,q))}},er=(e,r)=>{if(O(s.errors,r)&&e.focus)return e.focus(),1},eo=async(e,r={})=>{let o,n;let l=$(e);if(t.resolver){let r=await k(C(e)?e:l);o=J(r),n=e?!l.some(e=>O(r,e)):o}else e?((n=(await Promise.all(l.map(async e=>{let r=O(i,e);return await T(r&&r._f?{[e]:r}:r)}))).every(Boolean))||s.isValid)&&c():n=o=await T(i);return h.state.next({...!W(e)||(u.isValid||m.isValid)&&o!==s.isValid?{}:{name:e},...t.resolver||!e?{isValid:o}:{},errors:s.errors}),r.shouldFocus&&!n&&eF(i,er,e?l:a.mount),n},en=e=>{let r={...l.mount?n:o};return C(e)?r:W(e)?O(r,e):e.map(e=>O(r,e))},ea=(e,r)=>({invalid:!!O((r||s).errors,e),isDirty:!!O((r||s).dirtyFields,e),error:O((r||s).errors,e),isValidating:!!O(s.validatingFields,e),isTouched:!!O((r||s).touchedFields,e)}),ed=(e,r,t)=>{let o=(O(i,e,{_f:{}})._f||{}).ref,{ref:n,message:l,type:a,...d}=O(s.errors,e)||{};U(s.errors,e,{...d,...r,ref:o}),h.state.next({name:e,errors:s.errors,isValid:!1}),t&&t.shouldFocus&&o&&o.focus&&o.focus()},eu=e=>h.state.subscribe({next:r=>{ew(e.name,r.name,e.exact)&&eA(r,e.formState||u,eT,e.reRenderRoot)&&e.callback({values:{...n},...s,...r})}}).unsubscribe,eh=(e,r={})=>{for(let l of e?$(e):a.mount)a.mount.delete(l),a.array.delete(l),r.keepValue||(ei(i,l),ei(n,l)),r.keepError||ei(s.errors,l),r.keepDirty||ei(s.dirtyFields,l),r.keepTouched||ei(s.touchedFields,l),r.keepIsValidating||ei(s.validatingFields,l),t.shouldUnregister||r.keepDefaultValue||ei(o,l);h.state.next({values:j(n)}),h.state.next({...s,...r.keepDirty?{isDirty:L()}:{}}),r.keepIsValid||c()},ev=({disabled:e,name:r})=>{(E(e)&&l.mount||e||a.disabled.has(r))&&(e?a.disabled.add(r):a.disabled.delete(r))},ef=(e,r={})=>{let s=O(i,e),n=E(r.disabled)||E(t.disabled);return U(i,e,{...s||{},_f:{...s&&s._f?s._f:{ref:{name:e}},name:e,mount:!0,...r}}),a.mount.add(e),s?ev({disabled:E(r.disabled)?r.disabled:t.disabled,name:e}):y(e,!0,r.value),{...n?{disabled:r.disabled||t.disabled}:{},...t.progressive?{required:!!r.required,min:eP(r.min),max:eP(r.max),minLength:eP(r.minLength),maxLength:eP(r.maxLength),pattern:eP(r.pattern)}:{},name:e,onChange:X,onBlur:X,ref:n=>{if(n){ef(e,r),s=O(i,e);let t=C(n.value)&&n.querySelectorAll&&n.querySelectorAll("input,select,textarea")[0]||n,l=et(t),a=s._f.refs||[];(l?a.find(e=>e===t):t===s._f.ref)||(U(i,e,{_f:{...s._f,...l?{refs:[...a.filter(es),t,...Array.isArray(O(o,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),y(e,!1,void 0,t))}else(s=O(i,e,{}))._f&&(s._f.mount=!1),(t.shouldUnregister||r.shouldUnregister)&&!(S(a.array,e)&&l.action)&&a.unMount.add(e)}}},ep=()=>t.shouldFocusError&&eF(i,er,a.mount),ej=(e,r)=>async o=>{let l;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let d=j(n);if(h.state.next({isSubmitting:!0}),t.resolver){let{errors:e,values:r}=await w();s.errors=e,d=r}else await T(i);if(a.disabled.size)for(let e of a.disabled)U(d,e,void 0);if(ei(s.errors,"root"),J(s.errors)){h.state.next({errors:{}});try{await e(d,o)}catch(e){l=e}}else r&&await r({...s.errors},o),ep(),setTimeout(ep);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:J(s.errors)&&!l,submitCount:s.submitCount+1,errors:s.errors}),l)throw l},eq=(e,r={})=>{let d=e?j(e):o,m=j(d),v=J(e),b=v?o:m;if(r.keepDefaultValues||(o=d),!r.keepValues){if(r.keepDirtyValues)for(let e of Array.from(new Set([...a.mount,...Object.keys(el(o,n))])))O(s.dirtyFields,e)?U(b,e,O(n,e)):H(e,O(b,e));else{if(D&&C(e))for(let e of a.mount){let r=O(i,e);if(r&&r._f){let e=Array.isArray(r._f.refs)?r._f.refs[0]:r._f.ref;if(Y(e)){let r=e.closest("form");if(r){r.reset();break}}}}for(let e of a.mount)H(e,O(b,e))}n=j(b),h.array.next({values:{...b}}),h.state.next({values:{...b}})}a={mount:r.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!r.keepIsValid||!!r.keepDirtyValues,l.watch=!!t.shouldUnregister,h.state.next({submitCount:r.keepSubmitCount?s.submitCount:0,isDirty:!v&&(r.keepDirty?s.isDirty:!!(r.keepDefaultValues&&!Z(e,o))),isSubmitted:!!r.keepIsSubmitted&&s.isSubmitted,dirtyFields:v?{}:r.keepDirtyValues?r.keepDefaultValues&&n?el(o,n):s.dirtyFields:r.keepDefaultValues&&e?el(o,e):r.keepDirty?s.dirtyFields:{},touchedFields:r.keepTouched?s.touchedFields:{},errors:r.keepErrors?s.errors:{},isSubmitSuccessful:!!r.keepIsSubmitSuccessful&&s.isSubmitSuccessful,isSubmitting:!1})},eC=(e,r)=>eq(Q(e)?e(n):e,r),eT=e=>{s={...s,...e}},eL={control:{register:ef,unregister:eh,getFieldState:ea,handleSubmit:ej,setError:ed,_subscribe:eu,_runSchema:w,_getWatch:B,_getDirty:L,_setValid:c,_setFieldArray:(e,r=[],a,d,v=!0,b=!0)=>{if(d&&a&&!t.disabled){if(l.action=!0,b&&Array.isArray(O(i,e))){let r=a(O(i,e),d.argA,d.argB);v&&U(i,e,r)}if(b&&Array.isArray(O(s.errors,e))){let r=a(O(s.errors,e),d.argA,d.argB);v&&U(s.errors,e,r),ek(s.errors,e)}if((u.touchedFields||m.touchedFields)&&b&&Array.isArray(O(s.touchedFields,e))){let r=a(O(s.touchedFields,e),d.argA,d.argB);v&&U(s.touchedFields,e,r)}(u.dirtyFields||m.dirtyFields)&&(s.dirtyFields=el(o,n)),h.state.next({name:e,isDirty:L(e,r),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else U(n,e,r)},_setDisabledField:ev,_setErrors:e=>{s.errors=e,h.state.next({errors:s.errors,isValid:!1})},_getFieldArray:e=>q(O(l.mount?n:o,e,t.shouldUnregister?O(o,e,[]):[])),_reset:eq,_resetDefaultValues:()=>Q(t.defaultValues)&&t.defaultValues().then(e=>{eC(e,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(let e of a.unMount){let r=O(i,e);r&&(r._f.refs?r._f.refs.every(e=>!es(e)):!es(r._f.ref))&&eh(e)}a.unMount=new Set},_disableForm:e=>{E(e)&&(h.state.next({disabled:e}),eF(i,(r,t)=>{let s=O(i,t);s&&(r.disabled=s._f.disabled||e,Array.isArray(s._f.refs)&&s._f.refs.forEach(r=>{r.disabled=s._f.disabled||e}))},0,!1))},_subjects:h,_proxyFormState:u,get _fields(){return i},get _formValues(){return n},get _state(){return l},set _state(value){l=value},get _defaultValues(){return o},get _names(){return a},set _names(value){a=value},get _formState(){return s},get _options(){return t},set _options(value){t={...t,...value}}},subscribe:e=>(l.mount=!0,m={...m,...e.formState},eu({...e,formState:m})),trigger:eo,register:ef,handleSubmit:ej,watch:(e,r)=>Q(e)?h.state.subscribe({next:t=>e(B(void 0,r),t)}):B(e,r,!0),setValue:H,getValues:en,reset:eC,resetField:(e,r={})=>{O(i,e)&&(C(r.defaultValue)?H(e,j(O(o,e))):(H(e,r.defaultValue),U(o,e,j(r.defaultValue))),r.keepTouched||ei(s.touchedFields,e),r.keepDirty||(ei(s.dirtyFields,e),s.isDirty=r.defaultValue?L(e,j(O(o,e))):L()),!r.keepError&&(ei(s.errors,e),u.isValid&&c()),h.state.next({...s}))},clearErrors:e=>{e&&$(e).forEach(e=>ei(s.errors,e)),h.state.next({errors:e?s.errors:{}})},unregister:eh,setError:ed,setFocus:(e,r={})=>{let t=O(i,e),s=t&&t._f;if(s){let e=s.refs?s.refs[0]:s.ref;e.focus&&(e.focus(),r.shouldSelect&&Q(e.select)&&e.select())}},getFieldState:ea};return{...eL,formControl:eL}}(e),formState:s},e.formControl&&e.defaultValues&&!Q(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));let o=r.current.control;return o._options=e,R(()=>{let e=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(e=>({...e,isReady:!0})),o._formState.isReady=!0,e},[o]),p.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),p.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode),e.errors&&!J(e.errors)&&o._setErrors(e.errors)},[o,e.errors,e.mode,e.reValidateMode]),p.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),p.useEffect(()=>{if(o._proxyFormState.isDirty){let e=o._getDirty();e!==s.isDirty&&o._subjects.state.next({isDirty:e})}},[o,s.isDirty]),p.useEffect(()=>{e.values&&!Z(e.values,t.current)?(o._reset(e.values,o._options.resetOptions),t.current=e.values,i(e=>({...e}))):o._resetDefaultValues()},[o,e.values]),p.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=N(s,o),r.current}(),[F,w]=(0,p.useState)(!1),k=(0,i.useToast)(),T=(0,eL.useRouter)(),{user:L,loading:B}=(0,eU.a)();console.log("OrderForm Render - authLoading:",B,"currentUser:",L);let H=async e=>{if(B){console.log("onSubmit - 認證狀態仍在載入中"),k({title:"請稍候",description:"正在確認用戶狀態...",status:"info",duration:3e3,isClosable:!0});return}if(!L){console.log("onSubmit - 使用者未登入"),k({title:"錯誤",description:"請登入以建立訂單",status:"error",duration:3e3,isClosable:!0});return}w(!0);try{let r=await L.getIdToken();if(console.log("OrderForm: Acquired ID Token:",r),!r){console.error("OrderForm: Failed to acquire ID Token."),k({title:"錯誤",description:"獲取用戶認證信息失敗，請稍後重試。",status:"error",duration:3e3,isClosable:!0}),w(!1);return}let t={...e,userId:L.uid,status:"Pending",createdAt:new Date().toISOString()};console.log("準備提交的訂單資料:",t),await eT.Z.post("/api/orders",t,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),k({title:"訂單已建立",description:"您的購物請求已成功提交",status:"success",duration:5e3,isClosable:!0}),T.push("/orders")}catch(e){console.error("OrderForm: Error submitting order:",e),eT.Z.isAxiosError(e)?e.response?.status===401?(console.error("OrderForm: API returned 401 Unauthorized. Message:",e.response.data?.message),k({title:"提交失敗",description:e.response.data?.message||"未授權操作，請重新登入。",status:"error",duration:5e3,isClosable:!0})):k({title:"提交失敗",description:e.response?.data?.message||"建立訂單時發生錯誤，請稍後再試",status:"error",duration:5e3,isClosable:!0}):k({title:"提交失敗",description:"發生未知錯誤。",status:"error",duration:5e3,isClosable:!0})}finally{w(!1)}};return B?(console.log("OrderForm - 顯示 Spinner"),s.jsx(o.Center,{h:"300px",children:s.jsx(n.Spinner,{size:"xl"})})):L?(0,s.jsxs)(a.Box,{maxW:"md",mx:"auto",py:10,children:[s.jsx(d.Heading,{mb:6,children:"建立購物請求"}),s.jsx("form",{onSubmit:r(H),children:(0,s.jsxs)(u.VStack,{spacing:4,children:[(0,s.jsxs)(m.FormControl,{isInvalid:!!t.title,isRequired:!0,children:[s.jsx(h.FormLabel,{children:"標題"}),s.jsx(v.Input,{...e("title",{required:"請輸入標題"}),placeholder:"例如：新筆記型電腦"}),s.jsx(b.FormErrorMessage,{children:t.title?.message})]}),(0,s.jsxs)(m.FormControl,{isInvalid:!!t.description,isRequired:!0,children:[s.jsx(h.FormLabel,{children:"描述"}),s.jsx(c.Textarea,{...e("description",{required:"請輸入描述"}),placeholder:"請提供詳細的描述，例如型號、規格等"}),s.jsx(b.FormErrorMessage,{children:t.description?.message})]}),(0,s.jsxs)(m.FormControl,{isInvalid:!!t.priority,isRequired:!0,children:[s.jsx(h.FormLabel,{children:"優先級"}),(0,s.jsxs)(f.Select,{...e("priority",{required:"請選擇優先級"}),children:[s.jsx("option",{value:"low",children:"低"}),s.jsx("option",{value:"medium",children:"中"}),s.jsx("option",{value:"high",children:"高"})]}),s.jsx(b.FormErrorMessage,{children:t.priority?.message})]}),(0,s.jsxs)(m.FormControl,{isInvalid:!!t.quantity,isRequired:!0,children:[s.jsx(h.FormLabel,{children:"數量"}),(0,s.jsxs)(P.NumberInput,{min:1,defaultValue:1,children:[s.jsx(P.NumberInputField,{...e("quantity",{required:"請輸入數量",min:{value:1,message:"數量必須至少為 1"},valueAsNumber:!0})}),(0,s.jsxs)(P.NumberInputStepper,{children:[s.jsx(P.NumberIncrementStepper,{}),s.jsx(P.NumberDecrementStepper,{})]})]}),s.jsx(b.FormErrorMessage,{children:t.quantity?.message})]}),(0,s.jsxs)(m.FormControl,{isInvalid:!!t.url,children:[s.jsx(h.FormLabel,{children:"產品連結 (選填)"}),s.jsx(v.Input,{...e("url"),placeholder:"例如：https://www.example.com/product"}),s.jsx(b.FormErrorMessage,{children:t.url?.message})]}),s.jsx(y.Button,{colorScheme:"blue",type:"submit",isLoading:F,width:"full",mt:4,children:"提交購物請求"})]})})]}):(console.log("OrderForm - 顯示登入提示"),s.jsx(o.Center,{h:"300px",children:s.jsx(l.Text,{children:"請登入以建立新的購物請求。"})}))}},67259:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(19510),i=t(45031),o=t(84188);let n=(0,t(68570).createProxy)(String.raw`/Users/kih/Documents/test/components/orders/OrderForm.tsx#default`);function l(){return(0,s.jsxs)(i.x,{maxW:"container.xl",mx:"auto",children:[s.jsx(o.X,{mb:6,textAlign:"center",children:"建立購物請求"}),s.jsx(n,{})]})}},84188:(e,r,t)=>{"use strict";t.d(r,{X:()=>s});let s=(0,t(68570).createProxy)(String.raw`/Users/kih/Documents/test/node_modules/@chakra-ui/react/dist/esm/typography/heading.mjs#Heading`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,35,99,253],()=>t(46598));module.exports=s})();