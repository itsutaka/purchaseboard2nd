(()=>{var e={};e.id=702,e.ids=[702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},59704:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o}),t(69521),t(13153),t(35866);var s=t(23191),i=t(88716),d=t(37922),n=t.n(d),a=t(95231),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);t.d(r,l);let o=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,69521)),"/Users/kih/Documents/test/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,13153)),"/Users/kih/Documents/test/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/kih/Documents/test/app/dashboard/page.tsx"],u="/dashboard/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},92557:(e,r,t)=>{Promise.resolve().then(t.bind(t,47581))},47581:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>_});var s=t(10326),i=t(872),d=t(32532),n=t(71290),a=t(66271),l=t(45103),o=t(1891),c=t(19485),u=t(82170),x=t(97679),p=t(76359),h=t(42053),m=t(32950),j=t(73799),g=t(17115),b=t(48108),f=t(79179),y=t(10646),q=t(62313),S=t(90434),B=t(10732),v=t(33951);let P={stats:{totalOrders:42,pendingOrders:15,completedOrders:27,completionRate:64},recentOrders:[{id:"1",title:"筆記型電腦",requestedBy:"張小明",status:"pending",date:"2023-09-15"},{id:"2",title:"顯示器",requestedBy:"李大方",status:"approved",date:"2023-09-14"},{id:"3",title:"無線滑鼠",requestedBy:"王小華",status:"delivered",date:"2023-09-13"}]};function _(){let{user:e,loading:r,userData:t,isAdmin:_,isStaff:C}=(0,B.a)(),{stats:H,recentOrders:O}=P,w=_||C?H:{totalOrders:H.totalOrders,pendingOrders:H.pendingOrders},k=e=>{switch(e){case"pending":return"yellow";case"approved":return"blue";case"purchased":return"purple";case"delivered":return"green";default:return"gray"}},z=e=>{switch(e){case"pending":return"待審核";case"approved":return"已批准";case"purchased":return"已購買";case"delivered":return"已送達";default:return e}};return r?s.jsx(i.Center,{h:"300px",children:s.jsx(d.Spinner,{size:"xl"})}):e?(0,s.jsxs)(n.Box,{maxW:"container.xl",mx:"auto",children:[(0,s.jsxs)(c.Flex,{justify:"space-between",align:"center",mb:6,children:[s.jsx(a.Heading,{children:"儀表板"}),s.jsx(S.default,{href:"/orders/create",passHref:!0,children:s.jsx(o.Button,{colorScheme:"blue",children:"建立訂單"})})]}),(0,s.jsxs)(n.Box,{mb:8,children:[(0,s.jsxs)(a.Heading,{size:"md",children:["歡迎, ",t?.name||e.email,"!"]})," ",_?s.jsx(u.Badge,{ml:2,colorScheme:"purple",children:"管理員"}):C?s.jsx(u.Badge,{ml:2,colorScheme:"teal",children:"員工"}):s.jsx(u.Badge,{ml:2,colorScheme:"gray",children:"用戶"})]}),(0,s.jsxs)(x.SimpleGrid,{columns:{base:1,md:2,lg:4},spacing:6,mb:8,children:[s.jsx(p.Card,{children:s.jsx(h.CardBody,{children:(0,s.jsxs)(m.Stat,{children:[s.jsx(j.StatLabel,{children:"總訂單數"}),s.jsx(g.StatNumber,{children:w.totalOrders}),s.jsx(b.StatHelpText,{children:"所有採購請求"})]})})}),s.jsx(p.Card,{children:s.jsx(h.CardBody,{children:(0,s.jsxs)(m.Stat,{children:[s.jsx(j.StatLabel,{children:"待處理訂單"}),s.jsx(g.StatNumber,{children:w.pendingOrders}),s.jsx(b.StatHelpText,{children:"需要審核的請求"})]})})}),s.jsx(p.Card,{children:s.jsx(h.CardBody,{children:(0,s.jsxs)(m.Stat,{children:[s.jsx(j.StatLabel,{children:"已完成訂單"}),s.jsx(g.StatNumber,{children:H.completedOrders}),s.jsx(b.StatHelpText,{children:"已交付的採購"})]})})}),s.jsx(p.Card,{children:s.jsx(h.CardBody,{children:(0,s.jsxs)(m.Stat,{children:[s.jsx(j.StatLabel,{children:"完成率"}),(0,s.jsxs)(g.StatNumber,{children:[H.completionRate,"%"]}),s.jsx(f.Progress,{value:H.completionRate,colorScheme:"green",size:"sm",mt:2})]})})})]}),(0,s.jsxs)(p.Card,{mb:8,children:[s.jsx(y.CardHeader,{children:s.jsx(a.Heading,{size:"md",children:"最近訂單"})}),(0,s.jsxs)(h.CardBody,{children:[s.jsx(q.Stack,{divider:s.jsx(n.Box,{borderBottomWidth:"1px"}),spacing:4,children:O.filter(e=>_||C||t&&e.requestedBy===t.name).map(e=>(0,s.jsxs)(c.Flex,{justify:"space-between",align:"center",children:[(0,s.jsxs)(n.Box,{children:[s.jsx(S.default,{href:`/orders/${e.id}`,passHref:!0,children:s.jsx(l.Text,{fontWeight:"semibold",_hover:{color:"blue.500"},cursor:"pointer",children:e.title})}),(0,s.jsxs)(l.Text,{fontSize:"sm",color:"gray.500",children:["申請人: ",e.requestedBy," • ",(0,v.Z)(new Date(e.date),"yyyy-MM-dd HH:mm")," "]})]}),s.jsx(u.Badge,{colorScheme:k(e.status),children:z(e.status)})]},e.id))}),s.jsx(n.Box,{mt:4,textAlign:"center",children:s.jsx(S.default,{href:"/orders",passHref:!0,children:s.jsx(o.Button,{variant:"outline",size:"sm",children:"查看所有訂單"})})})]})]})]}):s.jsx(i.Center,{h:"300px",children:(0,s.jsxs)(n.Box,{textAlign:"center",children:[s.jsx(a.Heading,{size:"lg",children:"需要登入"}),s.jsx(l.Text,{mt:2,color:"gray.600",children:"請登入您的帳號以查看儀表板內容。"}),s.jsx(S.default,{href:"/auth/signin",passHref:!0,children:s.jsx(o.Button,{mt:4,colorScheme:"blue",children:"前往登入"})})]})})}},69521:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`/Users/kih/Documents/test/app/dashboard/page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,35,951,253],()=>t(59704));module.exports=s})();